(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{275:function(e,t,a){e.exports=a(548)},280:function(e,t,a){},535:function(e,t,a){},548:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),i=(a(280),a(66)),o=a(180),s=a.n(o),u=a(249),m=a(18),d=a.n(m);function p(){return{type:"auth_user",payload:d.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}var E=a(29),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function l(l){var c=Object(E.c)((function(e){return e.user})),i=Object(E.b)();return Object(n.useEffect)((function(){i(p()).then(function(){var e=Object(u.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!n.payload.isAuth;case 2:if(!e.sent){e.next=6;break}t&&l.history.push("/login"),e.next=7;break;case 6:(a&&!n.payload.isAdmin||!1===t)&&l.history.push("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i,l.history,c.googleAuth]),r.a.createElement(e,Object.assign({},l,{user:c}))}return l},f=a(19),g=a(38),b=a(14),v=a(551),y=a(40),O=a(89),j=a(549);var w=function(e){return r.a.createElement("div",null,r.a.createElement(j.a,{autoplay:!0},e.images.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("img",{style:{width:"100%",maxHeight:"250px"},src:"http://localhost:5000/".concat(e),alt:"ImageOfProduct"}))}))))},x=a(554),S=a(560),_=x.a.Panel;var k=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{style:{fontStyle:"bold italic"}},r.a.createElement(x.a,{defaultActiveKey:["0"]},r.a.createElement(_,{header:"Categories",key:"1"},e.list&&e.list.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(S.a,{onChange:function(){return function(t){var a=l.indexOf(t),n=Object(g.a)(l);-1===a?n.push(t):n.splice(a,1),c(n),e.handleFilters(n)}(t._id)},type:"checkbox",checked:-1!==l.indexOf(t._id)}),"\xa0\xa0",r.a.createElement("span",null,t.name),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")})))))},C=a(558),I=x.a.Panel;var P=function(e){var t=Object(n.useState)("0"),a=Object(b.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(x.a,{defaultActiveKey:["0"]},r.a.createElement(I,{header:"Price",key:"1"},r.a.createElement(C.a.Group,{onChange:function(t){c(t.target.value),e.handleFilters(t.target.value)},value:l},e.list&&e.list.map((function(e){return r.a.createElement(C.a,{key:e._id,value:"".concat(e._id)},e.name)}))))))},D=[{_id:1,name:"Party\xa0Dress"},{_id:2,name:"Jeans"},{_id:3,name:"Sarees"},{_id:4,name:"Gowns"},{_id:5,name:"Frocks"},{_id:6,name:"T-Shirts"},{_id:7,name:"Legenas"}],N=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $199",array:[0,199]},{_id:2,name:"$200 to $249",array:[200,249]},{_id:3,name:"$250 to $279",array:[250,279]},{_id:4,name:"$280 to $299",array:[280,299]},{_id:5,name:"More than $300",array:[300,15e5]}],T=v.a.Meta;var q=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),i=Object(b.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(8),m=Object(b.a)(u,2),p=m[0],E=(m[1],Object(n.useState)()),h=Object(b.a)(E,2),j=h[0],x=h[1],S=Object(n.useState)({categories:[],price:[]}),_=Object(b.a)(S,2),C=_[0],I=_[1],q=function(e){d.a.post("/api/product/getProducts",e).then((function(t){t.data.success?(e.loadMore?l([].concat(Object(g.a)(a),Object(g.a)(t.data.products))):l(t.data.products),x(t.data.postSize)):alert("Failed to fectch Product Details")}))};Object(n.useEffect)((function(){q({skip:o,limit:p})}),[]);var F=a.map((function(e,t){return r.a.createElement(y.a,{lg:6,md:10,xs:24},r.a.createElement(v.a,{hoverable:!0,cover:r.a.createElement("a",{href:"/product/".concat(e._id)}," ",r.a.createElement(w,{images:e.images}))},r.a.createElement(T,{title:e.title,description:"$".concat(e.price)})))})),A=function(e,t){var a=Object(f.a)({},C);if(a[t]=e,"price"===t){var n=function(e){var t=N,a=[];for(var n in t)t[n]._id===parseInt(e,10)&&(a=t[n].array);return console.log("array",a),a}(e);a[t]=n}console.log(a),function(e){q({skip:0,limit:p,filters:e}),s(0)}(a),I(a)};return r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement(O.a,{gutter:[16,16]},r.a.createElement(y.a,{lg:12,xs:24},r.a.createElement(k,{list:D,handleFilters:function(e){return A(e,"categories")}})),r.a.createElement(y.a,{lg:12,xs:24},r.a.createElement(P,{list:N,handleFilters:function(e){return A(e,"price")}}))),0===a.length?r.a.createElement("div",{style:{display:"flex",height:"300px",justifyContent:"center",alignItems:"center"}},r.a.createElement("h2",null,"Product is Not Available..............")):r.a.createElement("div",null,r.a.createElement(O.a,{gutter:[16,16]},F)),r.a.createElement("br",null),r.a.createElement("br",null),j>=p&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{onClick:function(){var e=o+p;q({skip:e,limit:p,loadMore:!0,filters:C}),s(e)},style:{backgroundColor:"black",color:"white"}},"View More")))},F=a(141),A=a(32),L=a(553),R=a(552),B=a(556),M=a(13),z=a(188),$=L.a.Title;var U=Object(i.f)((function(e){var t=Object(E.b)(),a=Object(n.useState)(""),l=Object(b.a)(a,2),c=l[0],i=l[1];return r.a.createElement(F.a,{initialValues:{email:"",password:""},validationSchema:A.object().shape({email:A.string().email("Email Id is invalid").required("Email Id is required"),password:A.string().min(6,"Password must have at least 6 characters").required("Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){return{type:"login_user",payload:d.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.successLogin?1===t.payload.role?e.history.push("/admin"):2===t.payload.role?e.history.push("/StoreManager"):e.history.push("/"):i("Fail to login, Check out The Email or Password again")})).catch((function(e){i("Fail to login, Check out The Email or Password again"),setTimeout((function(){i("")}),3e3)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),i=e.handleChange,o=e.handleBlur,s=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app"},r.a.createElement($,{level:2},"Log In"),r.a.createElement("form",{onSubmit:s,style:{width:"500px"}},r.a.createElement(R.a.Item,{required:!0},r.a.createElement(B.a,{id:"email",prefix:r.a.createElement(M.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter  email",type:"email",value:t.email,onChange:i,onBlur:o,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(R.a.Item,{required:!0},r.a.createElement(B.a,{id:"password",prefix:r.a.createElement(M.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter Password",type:"password",value:t.password,onChange:i,onBlur:o,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),c&&r.a.createElement("label",null,r.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},c)),r.a.createElement(R.a.Item,null,r.a.createElement("div",null,r.a.createElement(z.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:l,onSubmit:s},"Log in")),"Or ",r.a.createElement("a",{href:"/register"},"register now!"),r.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"Forgot Password"))))}))})),W=a(105),V=a.n(W),X={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},J={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var G=function(e){var t=Object(E.b)();return r.a.createElement(F.a,{initialValues:{email:"",lastName:"",name:"",password:"",confirmPassword:""},validationSchema:A.object().shape({name:A.string().required("Name is required"),lastName:A.string().required("Last Name is required"),email:A.string().email("Email is invalid").required("Email is required"),password:A.string().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:A.string().oneOf([A.ref("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password,name:a.name,lastname:a.lastname,image:"http://gravatar.com/avatar/".concat(V()().unix(),"?d=identicon")};t(function(e){return{type:"register_user",payload:d.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.registerSuccess?e.history.push("/login"):alert(t.payload.err.errmsg)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),c=e.handleChange,i=e.handleBlur,o=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app"},r.a.createElement("h2",null,"Sign up"),r.a.createElement(R.a,Object.assign({style:{minWidth:"375px"}},X,{onSubmit:o}),r.a.createElement(R.a.Item,{required:!0,label:"Name"},r.a.createElement(B.a,{id:"name",placeholder:"Enter your name",type:"text",value:t.name,onChange:c,onBlur:i,className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&r.a.createElement("div",{className:"input-feedback"},n.name)),r.a.createElement(R.a.Item,{required:!0,label:"Last Name"},r.a.createElement(B.a,{id:"lastName",placeholder:"Enter your Last Name",type:"text",value:t.lastName,onChange:c,onBlur:i,className:n.lastName&&a.lastName?"text-input error":"text-input"}),n.lastName&&a.lastName&&r.a.createElement("div",{className:"input-feedback"},n.lastName)),r.a.createElement(R.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success"},r.a.createElement(B.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:c,onBlur:i,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(R.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:n.password&&a.password?"error":"success"},r.a.createElement(B.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:c,onBlur:i,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),r.a.createElement(R.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},r.a.createElement(B.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:c,onBlur:i,className:n.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&a.confirmPassword&&r.a.createElement("div",{className:"input-feedback"},n.confirmPassword)),r.a.createElement(R.a.Item,J,r.a.createElement(z.a,{onClick:o,type:"primary",disabled:l},"Submit"))))}))},H=a(555),K=a(561);var Q=Object(i.f)((function(e){var t=Object(E.c)((function(e){return e.user})),a=function(){d.a.get("".concat("/api/users","/logout")).then((function(t){200===t.status?e.history.push("/login"):alert("Failed to LogOut")}))};return t.userData&&!t.userData.isAuth?r.a.createElement(H.a,{mode:e.mode},r.a.createElement(H.a.Item,{key:"mail"},r.a.createElement("a",{href:"/login"},"Signin")),r.a.createElement(H.a.Item,{key:"app"},r.a.createElement("a",{href:"/register"},"Signup"))):t.userData&&t.userData.isAuth&&(1===t.userData.role||2===t.userData.role)?r.a.createElement(H.a,{mode:e.mode},r.a.createElement(H.a.Item,{key:"logout"},r.a.createElement("a",{onClick:a},"Logout"))):r.a.createElement(H.a,{mode:e.mode},r.a.createElement(H.a.Item,{key:"upload"},r.a.createElement("a",{href:"/product/upload"},"Contact Us")),r.a.createElement(H.a.Item,{key:"cart",style:{paddingBottom:3}},r.a.createElement(K.a,{count:t.userData&&t.userData.cart.length},r.a.createElement("a",{href:"/user/cart",style:{marginRight:-22,color:"#667777"}},r.a.createElement(M.a,{type:"shopping-cart",style:{fontSize:30,marginBottom:3}})))),r.a.createElement(H.a.Item,{key:"logout"},r.a.createElement("a",{onClick:a},"Logout")))})),Z=a(557);a(535);var Y=function(e){return r.a.createElement(H.a,{mode:e.mode},r.a.createElement(H.a.Item,{key:"mail"},r.a.createElement("a",{href:"/"},"Home")))};var ee=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],l=t[1];return r.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"}},r.a.createElement("div",{className:"menu__logo"},r.a.createElement("a",{href:"/"},"Fashion Store")),r.a.createElement("div",{className:"menu__container"},r.a.createElement("div",{className:"menu_left"},r.a.createElement(Y,{mode:"horizontal"})),r.a.createElement("div",{className:"menu_rigth"},r.a.createElement(Q,{mode:"horizontal"})),r.a.createElement(z.a,{className:"menu__mobile-button",type:"primary",onClick:function(){l(!0)}},r.a.createElement(M.a,{type:"align-right"})),r.a.createElement(Z.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){l(!1)},visible:a},r.a.createElement(Y,{mode:"inline"}),r.a.createElement(Q,{mode:"inline"}))))};var te=function(){return r.a.createElement("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem",backgroundColor:"black"}})},ae=a(271);var ne=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(ae.a,{onDrop:function(t){var a=new FormData;a.append("file",t[0]),d.a.post("/api/product/uploadImage",a,{header:{"content-type":"multipart/form-data"}}).then((function(t){t.data.success?(c([].concat(Object(g.a)(l),[t.data.image])),e.refreshFunction([].concat(Object(g.a)(l),[t.data.image]))):alert("The Image is not saved in Server")}))},multiple:!1,maxSize:9e8},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),console.log("getRootProps",Object(f.a)({},t())),console.log("getInputProps",Object(f.a)({},a())),r.a.createElement("input",a()),r.a.createElement(M.a,{type:"plus",style:{fontSize:"3rem"}}))})),r.a.createElement("div",{style:{display:"flex",width:"350px",height:"240px",overflowX:"scroll"}},l.map((function(t,a){return r.a.createElement("div",{onClick:function(){return function(t){var a=l.indexOf(t),n=Object(g.a)(l);n.splice(a,1),c(n),e.refreshFunction(n)}(t)}},r.a.createElement("img",{style:{minWidth:"300px",width:"300px",height:"240px"},src:"http://localhost:5000/".concat(t),alt:"productImg-".concat(a)}))}))))},re=L.a.Title,le=B.a.TextArea,ce=[{key:1,value:"Party\xa0Dress"},{key:2,value:"Jeans"},{key:3,value:"Sarees"},{key:4,value:"Gowns"},{key:5,value:"Frocks"},{key:6,value:"T-Shirts"},{key:7,value:"Legenas"}];var ie=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),o=Object(b.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(0),p=Object(b.a)(m,2),E=p[0],h=p[1],f=Object(n.useState)(1),g=Object(b.a)(f,2),v=g[0],y=g[1],O=Object(n.useState)([]),j=Object(b.a)(O,2),w=j[0],x=j[1],S=function(t){if(t.preventDefault(),!l||!s||!E||!v||!w)return alert("fill all the fields first!");var a={writer:e.user.userData._id,title:l,description:s,price:E,images:w,categories:v};d.a.post("/api/product/uploadProduct",a).then((function(t){t.data.success?(alert("Product Successfully Uploaded"),e.history.push("/")):alert("Failed to upload Product")}))};return r.a.createElement("div",{style:{maxWidth:"700px",margin:"2rem auto"}},r.a.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},r.a.createElement(re,{level:2}," Store Manager Page")),r.a.createElement(R.a,{onSubmit:S},r.a.createElement(ne,{refreshFunction:function(e){x(e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Title"),r.a.createElement(B.a,{onChange:function(e){c(e.currentTarget.value)},value:l}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description"),r.a.createElement(le,{onChange:function(e){u(e.currentTarget.value)},value:s}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Price($)"),r.a.createElement(B.a,{onChange:function(e){h(e.currentTarget.value)},value:E,type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(e){y(e.currentTarget.value)},value:v},ce.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value," ")}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,{onClick:S},"Submit")))},oe=a(267),se=a.n(oe);var ue=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){if(e.detail.images&&e.detail.images.length>0){var t=[];e.detail.images&&e.detail.images.map((function(e){t.push({original:"http://localhost:5000/".concat(e),thumbnail:"http://localhost:5000/".concat(e)})})),c(t)}}),[e.detail]),r.a.createElement("div",null,r.a.createElement(se.a,{items:l}))},me=a(562),de=a(59),pe=a(60),Ee=a(62),he=a(61),fe=a(550),ge=a(272),be=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),i=Object(b.a)(c,2),o=i[0],s=i[1];return r.a.createElement("div",null,Object(g.a)(Array(5)).map((function(e,t){var n=t+1;return r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"rating",value:n,onClick:function(){return l(n)}}),r.a.createElement(ge.a,{size:30,color:n<=(o||a)?"#ffc107":"e4e5e9",className:"star",onMouseEnter:function(){return s(n)},onMouseLeave:function(){return s(null)}}))})))},ve=function(e){Object(Ee.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).onChangeRating=function(e){n.setState({rating:e.target.value})},n.onChangeComment=function(e){n.setState({comment:e.target.value})},n.onSubmit=function(e){e.preventDefault();var t={rating:n.state.rating,comment:n.state.comment};d.a.post("http://localhost:5000/add-review",t).then((function(e){return console.log(e.data)})),n.setState({rating:"",comment:""})},n.state={rating:"",comment:""},n}return Object(pe.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,null),r.a.createElement("h3",null,r.a.createElement("b",null,"Product Review")),r.a.createElement(R.a,{name:"review form",onFinish:this.onSubmit},r.a.createElement("b",null,"Rate the Product"),r.a.createElement(be,{onChange:this.onChangeRating}),r.a.createElement("br",null),r.a.createElement("b",null,"Comment"),r.a.createElement(R.a.Item,{name:["user","review"],onChange:this.onChangeComment},r.a.createElement(B.a.TextArea,null)),r.a.createElement(R.a.Item,null,r.a.createElement(z.a,{htmlType:"submit",type:"primary"},"Post"))),r.a.createElement(fe.a,null))}}]),a}(n.Component),ye=function(e){Object(Ee.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={reviews:[],isLoaded:!1},n}return Object(pe.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/display-review").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,reviews:t}),console.log(e.state.reviews)}))}},{key:"render",value:function(){var e=this.state,t=e.reviews;e.isLoaded;return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("b",null,"Comments")),t.map((function(e){return r.a.createElement("div",null,r.a.createElement("b",null,e.name),r.a.createElement("br",null),e.comment,r.a.createElement("br",null),r.a.createElement("div",{style:{color:"blue"}}," Rating : ",e.rating," "),r.a.createElement(fe.a,null))})))}}]),a}(n.Component);var Oe=function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){c(e.detail)}),[e.detail]),r.a.createElement("div",null,r.a.createElement(me.a,{title:"Product Information"},r.a.createElement(me.a.Item,{label:"Price"}," ",l.price),r.a.createElement(me.a.Item,{label:"Sold"},l.sold),r.a.createElement(me.a.Item,{label:"View"}," ",l.views),r.a.createElement(me.a.Item,{label:"Description"}," ",l.description)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-group"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(z.a,{size:"large",shape:"round",type:"danger",onClick:function(){e.addToCart(e.detail._id)}},"Add to Shopping Cart"),"\xa0\xa0\xa0",r.a.createElement(z.a,{size:"large",shape:"round",type:"primary",onClick:function(){console.log("Added to wishlist")}},"Add to wish list"))),r.a.createElement(ve,null),r.a.createElement(ye,null))};var je=function(e){var t=Object(E.b)(),a=e.match.params.productId,l=Object(n.useState)([]),c=Object(b.a)(l,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){d.a.get("/api/product/products_by_id?id=".concat(a,"&type=single")).then((function(e){o(e.data[0])}))}),[]),r.a.createElement("div",{className:"postPage",style:{width:"100%",padding:"3rem 4rem"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("h1",null,i.title)),r.a.createElement("br",null),r.a.createElement(O.a,{gutter:[16,16]},r.a.createElement(y.a,{lg:12,xs:24},r.a.createElement(ue,{detail:i})),r.a.createElement(y.a,{lg:12,xs:24},r.a.createElement(Oe,{addToCart:function(e){var a;t((a=e,{type:"add_to_cart_user",payload:d.a.get("".concat("/api/users","/addToCart?productId=").concat(a)).then((function(e){return e.data}))}))},detail:i}))))},we=a(268),xe=a.n(we),Se=function(e){Object(Ee.a)(a,e);var t=Object(he.a)(a);function a(){return Object(de.a)(this,a),t.apply(this,arguments)}return Object(pe.a)(a,[{key:"render",value:function(){var e=this,t=this.props.toPay;return r.a.createElement(xe.a,{env:"sandbox",client:{sandbox:"AelMA7rUdxce2INjEX1y9KQ47L4J8Idv7rIROe3if2vnMqsIkIz5FFUvA5g-cZiRCnRl3X2EAZljDxWw",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.onSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"large",color:"blue",shape:"rect",label:"checkout"}})}}]),a}(r.a.Component);var _e=function(e){var t=function(e){if(e.length>0){var t=e[0];return"http://localhost:5000/".concat(t)}};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Remove from Cart"))),r.a.createElement("tbody",null,e.products&&e.products.map((function(a){return r.a.createElement("tr",{key:a._id},r.a.createElement("td",null,r.a.createElement("img",{style:{width:"70px"},alt:"product",src:t(a.images)})),r.a.createElement("td",null,a.quantity," EA"),r.a.createElement("td",null,"$ ",a.price," "),r.a.createElement("td",null,r.a.createElement("button",{style:{backgroundColor:"red"},onClick:function(){return e.removeItem(a._id)}},"Remove ")," "))})))))},ke=a(559),Ce=a(90);var Ie=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(b.a)(i,2),s=o[0],u=(o[1],Object(E.b)()),m=Object(n.useState)(0),p=Object(b.a)(m,2),h=p[0],f=p[1];Object(n.useEffect)((function(){var t=[];e.user.userData&&e.user.userData.cart&&e.user.userData.cart.length>0&&(e.user.userData.cart.forEach((function(e){t.push(e.id)})),u(function(e,t){return{type:"get_cart_items_user",payload:d.a.get("/api/product/products_by_id?id=".concat(e,"&type=array")).then((function(e){return t.forEach((function(t){e.data.forEach((function(a,n){t.id===a._id&&(e.data[n].quantity=t.quantity)}))})),e.data}))}}(t,e.user.userData.cart)).then((function(e){e.payload.length>0&&g(e.payload)})))}),[e.user.userData]);var g=function(e){var t=0;e.map((function(e){t+=parseInt(e.price,10)*e.quantity})),f(t),c(!0)};return r.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},r.a.createElement("h1",null,"My Cart"),r.a.createElement("div",null,r.a.createElement(_e,{products:e.user.cartDetail,removeItem:function(e){var t;u((t=e,{type:"remove_cart_item_user",payload:d.a.get("/api/users/removeFromCart?_id=".concat(t)).then((function(e){return e.data.cart.forEach((function(t){e.data.cartDetail.forEach((function(a,n){t.id===a._id&&(e.data.cartDetail[n].quantity=t.quantity)}))})),e.data}))})).then((function(e){e.payload.cartDetail.length<=0?c(!1):g(e.payload.cartDetail)}))}}),l?r.a.createElement("div",{style:{marginTop:"3rem"}},r.a.createElement("h2",null,"Total Payment: $",h," ")):s?r.a.createElement(ke.a,{status:"success",title:"Successfully Purchased Items"}):r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("br",null),r.a.createElement(Ce.a,{description:!1}),r.a.createElement("p",null,"No Items In the Cart"))),l&&r.a.createElement(Se,{toPay:h}))};var Pe=function(){return r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement("h1",null,"admin page"))};var De=function(){return r.a.createElement("div",null,r.a.createElement("p",null," store manager page"))},Ne=function(e){Object(Ee.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).deleteItem=function(){d.a.delete("http://localhost:5000/delete-wishlist/:id"+n.props.obj._id).then((function(e){console.log("Item successfully deleted!")})).catch((function(e){console.log(e)}))},n.state={products:[],isLoaded:!1},n}return Object(pe.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/display-wishlist").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,products:t}),console.log(e.state.products)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.products;t.isLoaded;return r.a.createElement("div",{className:"postPage",style:{width:"100%",padding:"3rem 4rem"}},r.a.createElement("h2",null," Wishlist"),r.a.createElement(O.a,null,a.map((function(t){return r.a.createElement(y.a,{span:8},r.a.createElement(v.a,{style:{width:300},cover:r.a.createElement("img",{src:t.img,width:500,height:300})},r.a.createElement("h2",null,t.name),r.a.createElement(z.a,{type:"primary"},"View Details"),r.a.createElement(z.a,{type:"danger",onClick:e.deleteItem},"Remove")))}))))}}]),a}(n.Component);var Te=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading.........")},r.a.createElement(ee,null),r.a.createElement("div",{style:{paddingTop:"75px",minHeight:"calc(100vh - 80px)"}},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/product/upload",component:h(ie,!0)}),r.a.createElement(i.a,{exact:!0,path:"/product/:productId",component:h(je,null)}),r.a.createElement(i.a,{exact:!0,path:"/wishlist",component:h(Ne,!1)}),r.a.createElement(i.a,{exact:!0,path:"/user/cart",component:h(Ie,null)}),r.a.createElement(i.a,{exact:!0,path:"/admin",component:h(Pe,null)}),r.a.createElement(i.a,{exact:!0,path:"/StoreManager",component:h(De,null)}),r.a.createElement(i.a,{exact:!0,path:"/",component:h(q,null)}),r.a.createElement(i.a,{exact:!0,path:"/login",component:h(U,!1)}),r.a.createElement(i.a,{exact:!0,path:"/register",component:h(G,!1)}))),r.a.createElement(te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=a(99),Fe=a(76),Ae=Object(Fe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(f.a)(Object(f.a)({},e),{},{register:t.payload});case"login_user":return Object(f.a)(Object(f.a)({},e),{},{successLogin:t.payload,isAdmin:t.payload});case"auth_user":return Object(f.a)(Object(f.a)({},e),{},{userData:t.payload});case"logout_user":return Object(f.a)({},e);case"add_to_cart_user":return Object(f.a)(Object(f.a)({},e),{},{userData:Object(f.a)(Object(f.a)({},e.userData),{},{cart:t.payload})});case"get_cart_items_user":return Object(f.a)(Object(f.a)({},e),{},{cartDetail:t.payload});case"remove_cart_item_user":return Object(f.a)(Object(f.a)({},e),{},{cartDetail:t.payload.cartDetail,userData:Object(f.a)(Object(f.a)({},e.userData),{},{cart:t.payload.cart})});default:return e}}}),Le=a(269),Re=a.n(Le),Be=a(270),Me=Object(Fe.a)(Re.a,Be.a)(Fe.d);c.a.render(r.a.createElement(E.a,{store:Me(Ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(qe.a,null,r.a.createElement(Te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[275,1,2]]]);
//# sourceMappingURL=main.39c7b4ce.chunk.js.map