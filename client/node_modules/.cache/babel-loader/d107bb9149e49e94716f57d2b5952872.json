{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\AF_Project_ShoppingCart\\\\ShoppingCart\\\\client\\\\src\\\\components\\\\views\\\\HomePage\\\\HomePage.js\";\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport { Icon, Col, Card, Row } from 'antd';\nimport ImageSlider from '../../utils/ImageSlider';\nimport CheckBox from './Sections/CheckBox';\nimport RadioBox from './Sections/RadioBox';\nimport { categories, price } from './Sections/Datas';\nconst {\n  Meta\n} = Card;\n\nfunction HomePage() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState();\n  const [Filters, setFilters] = useState({\n    categories: [],\n    price: []\n  });\n\n  const getProducts = variables => {\n    Axios.post('/api/product/getProducts', variables).then(response => {\n      if (response.data.success) {\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n\n        setPostSize(response.data.postSize);\n      } else {\n        alert('Failed to fectch Product Details');\n      }\n    });\n  };\n\n  useEffect(() => {\n    const variables = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProducts(variables);\n  }, []);\n\n  const onLoadMore = () => {\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n      filters: Filters\n    };\n    getProducts(variables);\n    setSkip(skip);\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      md: 10,\n      xs: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      hoverable: true,\n      cover: /*#__PURE__*/React.createElement(\"a\", {\n        href: `/product/${product._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 24\n        }\n      }, \" \", /*#__PURE__*/React.createElement(ImageSlider, {\n        images: product.images,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 62\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Meta, {\n      title: product.title,\n      description: `$${product.price}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    })));\n  });\n\n  const showFilteredResults = filters => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: filters\n    };\n    getProducts(variables);\n    setSkip(0);\n  };\n\n  const handlePrice = value => {\n    const data = price;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value, 10)) {\n        array = data[key].array;\n      }\n    }\n\n    console.log('array', array);\n    return array;\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters\n    };\n    newFilters[category] = filters;\n\n    if (category === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters[category] = priceValues;\n    }\n\n    console.log(newFilters);\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '75%',\n      margin: '3rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CheckBox, {\n    list: categories,\n    handleFilters: filters => handleFilters(filters, \"categories\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(RadioBox, {\n    list: price,\n    handleFilters: filters => handleFilters(filters, \"price\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }))), Products.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      height: '300px',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"Product is Not Available..............\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, renderCards)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }), PostSize >= Limit && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onLoadMore,\n    style: {\n      backgroundColor: \"black\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"View More\")));\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/User/Desktop/AF_Project_ShoppingCart/ShoppingCart/client/src/components/views/HomePage/HomePage.js"],"names":["React","useEffect","useState","Axios","Icon","Col","Card","Row","ImageSlider","CheckBox","RadioBox","categories","price","Meta","HomePage","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","Filters","setFilters","getProducts","variables","post","then","response","data","success","loadMore","products","postSize","alert","skip","limit","onLoadMore","filters","renderCards","map","product","index","_id","images","title","showFilteredResults","handlePrice","value","array","key","parseInt","console","log","handleFilters","category","newFilters","priceValues","width","margin","length","display","height","justifyContent","alignItems","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Axios from 'axios';\nimport { Icon, Col, Card, Row } from 'antd';\nimport ImageSlider from '../../utils/ImageSlider';\nimport CheckBox from './Sections/CheckBox';\nimport RadioBox from './Sections/RadioBox';\nimport { categories , price } from './Sections/Datas';\n\n\nconst { Meta } = Card;\n\nfunction HomePage() {\n\n    const [Products, setProducts] = useState([])\n    const [Skip, setSkip] = useState(0)\n    const [Limit, setLimit] = useState(8)\n    const [PostSize, setPostSize] = useState()\n    \n    const [Filters, setFilters] = useState({\n        categories: [],\n        price: []\n    })\n\n    const getProducts = (variables) => {\n        Axios.post('/api/product/getProducts', variables)\n            .then(response => {\n                if (response.data.success) {\n                    if (variables.loadMore) {\n                        setProducts([...Products, ...response.data.products])\n                    } else {\n                        setProducts(response.data.products)\n                    }\n                    setPostSize(response.data.postSize)\n                } else {\n                    alert('Failed to fectch Product Details')\n                }\n            })\n    }\n\n    useEffect(() => {\n        const variables = {\n            skip: Skip,\n            limit: Limit,\n        }\n\n        getProducts(variables)\n    }, [])\n\n   \n\n    const onLoadMore = () => {\n        let skip = Skip + Limit;\n\n        const variables = {\n            skip: skip,\n            limit: Limit,\n            loadMore: true,\n            filters: Filters\n        }\n\n        getProducts(variables)\n        setSkip(skip)\n    }\n\n\n    const renderCards = Products.map((product, index) => {\n\n        return <Col lg={6} md={10} xs={24}> \n            <Card\n                hoverable={true}\n                cover={<a href={`/product/${product._id}`} > <ImageSlider images={product.images} /></a>}\n            >\n                <Meta\n                    title={product.title}\n                    description={`$${product.price}`}\n                />\n            </Card>\n        </Col>\n    })\n\n\n    const showFilteredResults = (filters) => {\n\n        const variables = {\n            skip: 0,\n            limit: Limit,\n            filters: filters\n\n        }\n        getProducts(variables)\n        setSkip(0)\n\n    }\n\n    const handlePrice = (value) => {\n        const data = price;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value, 10)) {\n                array = data[key].array;\n            }\n        }\n        console.log('array', array)\n        return array\n    }\n\n    const handleFilters = (filters, category) => {\n\n        const newFilters = { ...Filters }\n\n        newFilters[category] = filters\n\n        if (category === \"price\") {\n            let priceValues = handlePrice(filters)\n            newFilters[category] = priceValues\n\n        }\n\n        console.log(newFilters)\n\n        showFilteredResults(newFilters)\n        setFilters(newFilters)\n    }\n\n\n    return (\n        <div style={{ width: '75%', margin: '3rem auto' }}>\n            \n            <Row gutter={[16, 16]}>\n                <Col lg={12} xs={24} >\n                    <CheckBox\n                        list={categories }\n                        handleFilters={filters => handleFilters(filters, \"categories\")}\n                    />\n                </Col>\n                \n                <Col lg={12} xs={24}>\n                    <RadioBox \n                        list={price}\n                        handleFilters={filters => handleFilters(filters, \"price\")}\n                    />\n                </Col>\n            </Row>\n\n            {Products.length === 0 ?\n                <div style={{ display: 'flex', height: '300px', justifyContent: 'center', alignItems: 'center' }}>\n                    <h2>Product is Not Available..............</h2>\n                </div> :\n                \n                <div>                \n                    <Row gutter={[16, 16]}>\n                        {renderCards}\n                    </Row>\n                </div>\n            }\n\n            <br /><br />\n\n            {PostSize >= Limit &&\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <button onClick={onLoadMore} style = {{backgroundColor: \"black\", color:\"white\"}}>View More</button>\n                </div>\n            }\n\n\n        </div>\n    )\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}